# 产品管理 - 标准功能定义功能

## 功能概述

在产品管理页面中，当用户点击"查看标准物模型"时，会弹出一个标准功能定义对话框，显示该品类的标准功能定义列表。

## 功能特性

### 1. 标准功能定义对话框
- **搜索功能**: 支持按功能名称和功能类型搜索
- **分页显示**: 支持分页浏览大量功能定义
- **数据展示**: 显示功能类型、功能名称、标识符、数据类型和描述
- **操作功能**: 支持选择和查看详情

### 2. 数据结构
功能定义包含以下字段：
- `functionType`: 功能类型（属性、事件、服务）
- `functionName`: 功能名称
- `identifier`: 标识符
- `dataType`: 数据类型
- `description`: 功能描述

### 3. 品类适配
根据不同的品类名称，系统会显示不同的功能定义：
- **电表/能源类**: 显示电流、电压、功率等电气参数
- **传感器类**: 显示温度、湿度、压力等传感器数据
- **报警器/探测器类**: 显示报警状态、信号强度等
- **通用类**: 显示设备状态、在线状态等基础功能

## 使用方法

### 1. 打开功能定义对话框
1. 在产品管理页面点击"创建产品"
2. 在创建产品表单中选择"标准品类"
3. 点击"选择标准品类"按钮
4. 在品类选择对话框中点击"查看标准物模型"

### 2. 浏览功能定义
- 使用搜索框按功能名称或类型搜索
- 使用分页控件浏览更多功能
- 点击"选择"按钮选择特定功能
- 点击"详情"按钮查看功能详细信息

### 3. 选择功能
- 点击功能行中的"选择"按钮
- 系统会显示选择成功提示
- 点击"确定"按钮确认选择

## 技术实现

### 前端组件
- `StandardFunctionDialog.vue`: 标准功能定义对话框组件
- 支持真实API调用和模拟数据回退
- 响应式数据绑定和事件处理

### 后端API
- `getWlCaFunctionByCategory`: 根据品类ID获取功能定义列表
- 支持分页、搜索和过滤功能
- 返回标准化的功能定义数据

### 数据模型
- `WlCaFunction`: 功能定义数据模型
- 包含品类ID、功能类型、功能名称、标识符、数据类型等字段

## 扩展功能

### 1. 自定义功能定义
- 支持添加自定义功能定义
- 支持功能定义的编辑和删除
- 支持功能定义的导入和导出

### 2. 功能模板
- 支持预定义的功能模板
- 支持模板的复制和修改
- 支持模板的版本管理

### 3. 数据验证
- 支持功能定义的数据验证
- 支持标识符的唯一性检查
- 支持数据类型的合法性验证

## 注意事项

1. **API调用**: 优先使用真实API，失败时自动回退到模拟数据
2. **数据格式**: 支持多种数据格式的兼容性处理
3. **用户体验**: 提供加载状态、错误提示和成功反馈
4. **性能优化**: 支持分页加载，避免一次性加载大量数据

## 开发说明

### 添加新的功能类型
1. 在`generateMockFunctions`函数中添加新的功能定义
2. 在`getFunctionDescription`函数中添加对应的描述逻辑
3. 在搜索选项中添加新的功能类型

### 修改API调用
1. 更新`loadFunctionList`函数中的API调用逻辑
2. 确保数据格式的正确处理
3. 添加适当的错误处理机制

### 样式定制
1. 修改`StandardFunctionDialog.vue`中的样式定义
2. 调整表格列的宽度和显示方式
3. 自定义标签和按钮的样式 